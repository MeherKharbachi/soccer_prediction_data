# AUTOGENERATED! DO NOT EDIT! File to edit: ../../nbs/Config/000_config.ipynb.

# %% auto 0
__all__ = ['logger', 'config_path_local', 'DB_HOSTS']

# %% ../../nbs/Config/000_config.ipynb 3
import toml
import logging
import os
from pathlib import Path

# %% ../../nbs/Config/000_config.ipynb 4
## config
logging.basicConfig(
    level=logging.INFO, format="%(asctime)s - %(message)s", datefmt="%Y-%m-%d %H:%M:%S"
)

logger = logging.getLogger(__name__)

config_path_local = Path(os.getenv("HOME")) / "secrets" / "config.toml"
config_path_local = config_path_local if config_path_local.exists() else Path("/secrets/config.toml")

if config_path_local.exists():
    CONFIG = toml.load(config_path_local)
else:
    logger.error(
        "No config file found under pkg root or in `/secrets/config.toml`!"
    )

# Defined database hosts.
DB_HOSTS = set([db for db in CONFIG["databases"]])
